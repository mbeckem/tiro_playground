{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.377c7eb9996f93c13afb.hot-update.js","sources":["webpack:///./src/pages/index.tsx"],"sourcesContent":["import { Component } from \"react\";\nimport TiroCompiler, { createCompiler, CompilerResult } from \"../TiroCompiler\";\nimport { CompilerView } from \"../components/CompilerView\";\n\ninterface PlaygroundState {\n    compiling: true;\n    compiler?: TiroCompiler;\n    result?: CompilerResult;\n}\n\nconst INITIAL_SOURCE = `\nimport std;\n\nfunc foo() {\n    for (var i = 1; i <= 10; i += 1) {\n        std.print(i);\n    }\n}\n`.trim();\n\nexport default class Playground extends Component<{}, PlaygroundState> {\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            compiling: false,\n        };\n    }\n\n    componentDidMount(): void {\n        createCompiler().then((compiler) => {\n            const result = compiler.compile(`\n                import std;\n        \n                func foo() {\n                    for (var i = 1; i <= 10; i += 1) {\n                        std.print(i);\n                    }\n                }\n            `);\n\n            this.setState({\n                compiler,\n                result,\n            });\n        });\n    }\n\n    componentWillUnmount(): void {\n        this.state.compiler?.destroy();\n    }\n\n    render(): JSX.Element {\n        const { compiler, result } = this.state;\n        if (!compiler || !result) {\n            return <div>Loading...</div>;\n        }\n\n        const messages = result.messages.map((message, index) => {\n            return <li key={index}>{message}</li>;\n        });\n\n        /*   \n        return (\n            <div>\n                <div>Success: {result.success.toString()}</div>\n                <div>Time taken: {result.elapsedMillis.toFixed(3)} ms</div>\n                <div>Messages:</div>\n                <ul>{messages}</ul>\n                <pre>{result.ast}</pre>\n                <pre>{result.ir}</pre>\n                <pre>{result.bytecode}</pre>\n                <Editor\n                    initialSource={this.state.result?.ast || \"\"}\n                    onChange={this._sourceChanged}\n                />\n            </div>\n            );\n        */\n        return (\n            <CompilerView\n                state=\"idle\"\n                initialSource={INITIAL_SOURCE}\n                result={undefined}\n                onSourceChanged={this._sourceChanged}\n            ></CompilerView>\n        );\n    }\n\n    private _sourceChanged = (value: string): void => {\n        console.log(\"new source\", value);\n    };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAQA;AACA;AASA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAoEA;AACA;AACA;AApEA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AASA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;;;;;;;;;;;;;;;;;;AAiBA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAlEA;AACA;;;;;A","sourceRoot":""}